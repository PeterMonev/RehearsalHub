@{
    string? currentSearch = ViewData["CurrentSearch"]?.ToString();
}

<div class="row mb-4">
    <div class="col-lg-6 mx-auto">
        <form method="get">
            <div class="input-group shadow-lg rounded-pill overflow-hidden border-0 bg-dark-glass p-1">
                <span class="input-group-text bg-transparent border-0 ps-3">
                    <i class="fa-solid fa-magnifying-glass text-orange-custom"></i>
                </span>

                <input type="text" name="searchTerm" value="@currentSearch"
                       class="form-control border-0 py-2 shadow-none bg-transparent text-white custom-search-input"
                       placeholder="Search tracks, bands or rehearsals...">

                @if (!string.IsNullOrEmpty(currentSearch))
                {
                    <a asp-action="@ViewContext.RouteData.Values["action"]"
                       class="btn btn-transparent border-0 d-flex align-items-center text-muted px-2 hover-white">
                        <i class="fa-solid fa-xmark"></i>
                    </a>
                }

                <button type="submit" class="btn btn-band-search px-4 fw-bold rounded-pill">
                    SEARCH
                </button>
            </div>
        </form>
    </div>
</div>

<style>
    .bg-dark-glass {
        background: var(--glass-bg) !important;
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 69, 0, 0.2) !important;
    }

    .text-orange-custom {
        color: var(--band-orange) !important;
    }

    .custom-search-input {
        color: white !important;
    }

        .custom-search-input::placeholder {
            color: rgba(255, 255, 255, 0.5) !important;
        }

    .btn-band-search {
        background: var(--band-gradient) !important;
        border: none !important;
        color: white !important;
        letter-spacing: 1px;
        transition: all 0.3s ease;
        margin: 2px;
    }

        .btn-band-search:hover {
            transform: scale(1.02);
            box-shadow: 0 0 15px rgba(255, 69, 0, 0.4);
            color: white !important;
        }

    .hover-white:hover {
        color: white !important;
    }

    .input-group:focus-within {
        box-shadow: 0 0 20px rgba(255, 69, 0, 0.2) !important;
        border: 1px solid var(--band-orange) !important;
    }
</style>